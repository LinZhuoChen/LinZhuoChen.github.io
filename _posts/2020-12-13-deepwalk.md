---
title: deepwalk 算法
categories: graph embedding
tags:
- 推荐系统
---

​	Graph Embedding 技术是推荐系统中的重要技术，是推荐系统、计算广告领域最近非常流行的做法。在互联网场景下，数据对象之间大多数呈现图结构。如果能将图中的节点embedding化，对推荐系统来说将是非常具有价值的特征。本篇文章将介绍一种经典的Graph Embedding方法：DeepWalk。

​	在NLP任务中，word2vec是一种常用的embedding方法，其通过学习训练数据中，词与词之间的共现关系，习得词语的低维稠密向量表示(embedding)。Deepwalk则学习图中节点与节点之间的共现关系，通过随机游走 (Random walk)的方式，将Graph embedding与word embedding的方法联系起来。其主要思想是，通过在图结构上的随机游走，生成大量的序列，然后将这些序列通过word2vec生成对应的embedding。我们接下来将介绍Deepwalk的方法细节。

## Deepwalk 流程介绍

![](../images/deepwalk.png)

<center>图1 Deepwalk 算法的过程，图片修改自[1]。</center>

​	图 1展示了Deepwalk算法的主要流程。首先，我们需要获取用户与物品的交互序列，如图 1(a)所示。该序列可以为用户观看视频的点赞序列，或者用户购买物品的序列。接着我们需要根据用户产生的序列，生成物品关系图，如图 1(b)所示。图 1(a)中U1先后与物品D与物品A发生了交互，那么则产生一条由物品D指向物品A的有向边。如果产生了多条相同的有向边，则该边的权重被加强。之后我们使用随机游走的方式随机选取初始点，来对图中的节点进行采样并生成对应的序列，如图1 (c)所示。其中随机游走的次数和窗口长度属于可调节的超参数。对于有向有权图，随机采样的跳转概率为跳转边的权重占所有相关出边权重之和的比例。最后，我们使用word2vec (skip-gram)产生对应物品节点的embedding。

